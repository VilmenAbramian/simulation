# pysim - Python Simulator

Набор имитационных моделей на Python.

## Структура пакета

Пакет `pysim` имеет следующую структуру:

```
|-- pysim
|   |-- kernel     код ядра симулятора
|   |-- models     модели
|   |   |-- echo   модель echo-протокола
|   |   |-- mm1    модель системы M/M/1
|   |   |-- rfid   модель RFID
|   |-- main.py    скрипт команды sim 
```

### Команда `sim`

Команда позволяет получать информацию о моделях и запускать их.

- `sim list`: вывести список моделей
- `sim run <model>`: запустить модель

### Добавление новой модели

Модель - это вложенный пакет в `models`, который отвечает следующим требованиям:

- есть файл `cli.py`;
- в файле `cli.py` есть функция `run(...)`, декорированная как `@click.command` или `@click.group`.

При запуске команда `sim` (то есть скрипт `main.py`) просмотрит все модули в `models`,
импортирует из них `cli.py` и добавит команды `run()` к группе команд `sim run`, а сами модули -
в список моделей.


## Модели

### `pingpong` - Модель пинг-понга

Модель описывает обмен сообщениями `Ping{int}` и `Pong{int}` между двумя
компьютерами по каналу с фиксированной задержкой.

Параметры модели:

- `interval`: интервал между передачами пакетов `Ping`
- `delay`: задержка в канале


### `rfid` - RFID Simulator

Имитационная модель системы UHF RFID с мобильными считывателями и метками,
полностью реализованная на Python 3.

Модель позволяет:

- вычислять вероятность идентификации метки
- моделировать чтение EPCID и произвольных банков памяти
- моделировать многолучевое распространение
- задавать траектории движения считывателя и меток

Запуск:

```
sim run rfid
```
